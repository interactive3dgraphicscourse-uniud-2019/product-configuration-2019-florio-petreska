head
    link(rel="stylesheet", href="/css/main.css")
    script(src="./js/lib/three.min.js")
    script(src="./js/lib/OrbitControls.js")
    script(src="./js/lib/LoaderSupport.js")
    script(src="./js/lib/OBJLoader2.js")
body
    script(type="text/x-glsl", id="vertex").
        varying vec3 vNormal;
        varying vec3 vPosition;
        void main() {
            vec4 vPos = modelViewMatrix * vec4( position, 1.0 );
            vPosition = vPos.xyz;
            vNormal = normalMatrix * normal;
            gl_Position = projectionMatrix * vPos;
        }
    script(type="text/x-glsl", id="fragment").
        varying vec3 vNormal;
        varying vec3 vPosition;
        uniform vec3 pointLightPosition; // in world space
        uniform vec3 clight;
        uniform vec3 cdiff;
        const float PI = 3.14159;
        void main() {
            vec4 lPosition = viewMatrix * vec4( pointLightPosition, 1.0 );
            vec3 l = normalize(lPosition.xyz - vPosition.xyz);
            vec3 n = normalize( vNormal );  // interpolation destroys normalization, so we have to normalize
            float nDotl = max(dot( n, l ),0.0);
            // formula would be:
            // outRadiance = clight * PI * cdiff/PI * nDotl, the two PI cancel out
            vec3 outRadiance = clight * nDotl * cdiff;
            // gamma encode the final value
            gl_FragColor = vec4(pow( outRadiance, vec3(1.0/2.2)), 1.0);
        }

    .navbar-fixed
        nav
            .nav-wrapper
            a.brand-logo(href='#!')
                img.responsive-img(src="images/logo.png", alt="ACME")
            ul.right.hide-on-med-and-down
                li
                    a(href='#') About
                li
                    a(href='#') Shop
                li
                    a(href="#") Help
                li
                    a.btn Shopping Cart
    .main
        .row.configurator   
            .row.title
                    .pad
                        h3 ACMEpad
                    .reviews
                        h6 5 Reviews
            .col.m8.s12.object
                #threejs-container
                
            .col.m4.s12.prop
                .row.prop-title
                    h6 FRONT 
                        span Silver
                .row.prop-images
                    .col.s3.selection.active
                        img.responsive-img(src="/images/default.jpg", alt="Silver")
                    .col.s3.selection
                        img.responsive-img(src="/images/default.jpg", alt="White")
                    .col.s3.selection
                        img.responsive-img(src="/images/default.jpg", alt="Black")
                .row.prop-title
                    h6 BACK 
                        span Leather
                .row.prop-images
                    .col.s3.selection
                        img.responsive-img(src="/images/default.jpg", alt="Plastic")
                    .col.s3.selection.active
                        img.responsive-img(src="/images/default.jpg", alt="Leather")
                    .col.s3.selection
                        img.responsive-img(src="/images/default.jpg", alt="Metal")
                .row.prop-text
                    p Lorem ipsum dolor, sit amet consectetur adipisicing elit. Error fugiat repudiandae totam temporibus nesciunt fugit dicta sit et pariatur incidunt distinctio illum sunt.
                    p Similique ipsa incidunt atque molestiae dignissimos repudiandae, quo sequi facere ut quas. Magnam totam nobis voluptatibus! Quisquam.
                .row.cart.valign-wrapper
                    .col.s6
                        h5.price $1200
                    .col.s6
                        a.btn Add to cart
    script(src="./js/Tablet.js")
    script(src="./js/main.js")
            